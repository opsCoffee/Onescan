# OneScan 项目优化任务

## 任务目标

对 OneScan 项目进行全面的代码质量评审和优化，提升代码的可维护性、安全性和性能。

## 执行流程

### 阶段 0：项目评审与分析

在开始任何修复工作之前，必须先完成以下评审工作：

1. **项目结构分析**
   - 分析项目的整体架构和模块划分
   - 识别核心功能模块和依赖关系
   - 评估代码组织的合理性

2. **代码质量评审**
   - 运行静态代码分析工具（如果适用）
   - 识别代码中的潜在问题（安全、性能、逻辑等）
   - 按严重程度对问题进行分类和优先级排序

3. **技术债务评估**
   - 识别重复代码和可重构的部分
   - 评估代码复杂度和可维护性
   - 识别过大的文件和函数

4. **生成优化计划**
   - 根据评审结果生成详细的任务列表
   - 将任务按阶段和优先级组织
   - 初始化 `.agent/task_status.json` 状态文件
   - 更新本文件（prompt.md）包含具体的任务清单

### 阶段 1+：执行优化任务

完成评审后，按照生成的任务清单逐步执行优化工作。

## 评审输出要求

评审完成后，需要生成以下文件：

1. **`.agent/analysis_report.md`** - 详细的评审报告
   - 项目概况
   - 发现的问题清单（按严重程度分类）
   - 技术债务分析
   - 优化建议

2. **`.agent/task_status.json`** - 任务状态跟踪文件
   - 包含所有待执行任务的结构化数据
   - 任务分阶段组织
   - 包含任务优先级和依赖关系

3. **更新 `prompt.md`** - 包含具体的任务清单
   - 按阶段组织的任务列表
   - 每个任务的详细描述
   - 任务执行的复选框

## 注意事项

- 评审过程中使用深度思考模式（sequential-thinking MCP）
- 评审结果必须基于实际代码分析，不要假设或猜测
- 任务优先级应基于问题的严重程度和影响范围
- 所有评审文档必须使用中文
