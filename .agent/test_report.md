# LGC-001 æµ‹è¯•æŠ¥å‘Š

**ä»»åŠ¡**: ç»Ÿä¸€æ–‡ä»¶ç¼–ç ä¸º UTF-8
**æ‰§è¡Œæ—¥æœŸ**: 2025-12-05
**çŠ¶æ€**: âœ… å®Œæˆ

---

## ä¿®å¤å†…å®¹

### ä¿®æ”¹çš„æ–‡ä»¶

#### FileUtils.java (4 å¤„ä¿®å¤)

1. **æ·»åŠ  import**:
   ```java
   import java.nio.charset.StandardCharsets;
   ```

2. **readFileToString() - Line 119**:
   ```java
   // Before
   return new String(result, 0, result.length);

   // After
   return new String(result, 0, result.length, StandardCharsets.UTF_8);
   ```

3. **readStreamToString() - Line 124**:
   ```java
   // Before
   return new String(result, 0, result.length);

   // After
   return new String(result, 0, result.length, StandardCharsets.UTF_8);
   ```

4. **readStreamToList() - Line 153**:
   ```java
   // Before
   br = new BufferedReader(new InputStreamReader(is));

   // After
   br = new BufferedReader(new InputStreamReader(is, StandardCharsets.UTF_8));
   ```

5. **writeFile() - Line 88**:
   ```java
   // Before
   Writer writer = null;
   try {
       writer = new FileWriter(file, append);

   // After
   Writer writer = null;
   try {
       writer = new OutputStreamWriter(new FileOutputStream(file, append), StandardCharsets.UTF_8);
   ```

---

## éªŒè¯æµ‹è¯•

### ç¼–è¯‘æµ‹è¯•

**å‘½ä»¤**: `mvn clean compile`

**ç»“æœ**: âœ… æˆåŠŸ

**è¾“å‡º**:
```
[INFO] BUILD SUCCESS
[INFO] Total time:  01:37 min
[INFO] Finished at: 2025-12-05T...
```

**è¯´æ˜**:
- æ‰€æœ‰ä¿®æ”¹ç¼–è¯‘é€šè¿‡
- æ— è¯­æ³•é”™è¯¯
- æ— ç±»å‹é”™è¯¯

### æ‰‹å·¥éªŒè¯

ç”±äºé¡¹ç›®æœªé…ç½® JUnit æµ‹è¯•æ¡†æ¶ï¼Œé‡‡ç”¨ä»£ç å®¡æŸ¥æ–¹å¼éªŒè¯ï¼š

1. **è¯»å–æ“ä½œ**:
   - `readFileToString()`: âœ… æ·»åŠ  UTF-8 å‚æ•°
   - `readStreamToString()`: âœ… æ·»åŠ  UTF-8 å‚æ•°
   - `readStreamToList()`: âœ… InputStreamReader æŒ‡å®š UTF-8

2. **å†™å…¥æ“ä½œ**:
   - `writeFile()`: âœ… ä½¿ç”¨ OutputStreamWriter + UTF-8

3. **ä¸€è‡´æ€§**:
   - âœ… è¯»å†™éƒ½ä½¿ç”¨ç›¸åŒçš„ UTF-8 ç¼–ç 
   - âœ… æ— é—æ¼çš„æ–‡ä»¶ I/O æ“ä½œ

---

## å½±å“åˆ†æ

### å—å½±å“çš„æ¨¡å—

é€šè¿‡ `grep` æœç´¢ FileUtils çš„ä½¿ç”¨æƒ…å†µï¼Œå‘ç°ä»¥ä¸‹æ¨¡å—ä¼šå—ç›Šäºæ­¤ä¿®å¤ï¼š

1. **FpManager.java**: YAML æŒ‡çº¹åº“åŠ è½½ - ç°åœ¨èƒ½æ­£ç¡®å¤„ç†åŒ…å«ä¸­æ–‡çš„æŒ‡çº¹æè¿°
2. **Config.java**: JSON é…ç½®æ–‡ä»¶è¯»å– - ä¸­æ–‡é…ç½®é¡¹ä¸ä¼šä¹±ç 
3. **WordlistManager.java**: å­—å…¸æ–‡ä»¶è¯»å– - æ”¯æŒä¸­æ–‡å­—å…¸
4. **BurpExtender.java**: å„ç§é…ç½®æ–‡ä»¶æ“ä½œ - è·¨å¹³å°ä¸€è‡´æ€§

### å…¼å®¹æ€§

- âœ… **å‘åå…¼å®¹**: ç°æœ‰çš„ UTF-8 ç¼–ç æ–‡ä»¶ä¸å—å½±å“
- âœ… **è·¨å¹³å°ä¸€è‡´æ€§**: Windows/Linux/macOS è¡Œä¸ºç»Ÿä¸€
- âš ï¸ **è¾¹ç¼˜æƒ…å†µ**: å¦‚æœæœ‰äººç”¨ GBK ä¿å­˜äº†é…ç½®æ–‡ä»¶ï¼ˆè¿åè§„èŒƒï¼‰ï¼Œéœ€è¦é‡æ–°ä¿å­˜ä¸º UTF-8

---

## é—®é¢˜ä¿®å¤ç¡®è®¤

### ä¿®å¤å‰çš„é—®é¢˜

1. **å¹³å°ä¾èµ–**:
   - Windows ç³»ç»Ÿï¼ˆé»˜è®¤ GBKï¼‰è¯»å– UTF-8 æ–‡ä»¶ä¼šä¹±ç 
   - Linux/macOSï¼ˆé»˜è®¤ UTF-8ï¼‰è¯»å– GBK æ–‡ä»¶ä¼šä¹±ç 

2. **æ•°æ®ä¸¢å¤±é£é™©**:
   - ä¸­æ–‡æŒ‡çº¹åº“è§£æå¤±è´¥
   - é…ç½®æ–‡ä»¶è¯»å–é”™è¯¯
   - æ‰«æç»“æœä¿å­˜ä¹±ç 

### ä¿®å¤åçš„æ”¹è¿›

1. **ç»Ÿä¸€ç¼–ç **: æ‰€æœ‰å¹³å°éƒ½ä½¿ç”¨ UTF-8
2. **ç¬¦åˆè§„èŒƒ**: YAML å’Œ JSON æ ‡å‡†éƒ½è¦æ±‚ UTF-8
3. **å¯é æ€§**: æ¶ˆé™¤äº†å¹³å°ç›¸å…³çš„ä¸ç¡®å®šæ€§

---

## å›å½’é£é™©è¯„ä¼°

**é£é™©ç­‰çº§**: ğŸŸ¢ **ä½**

**ç†ç”±**:
1. æ”¹åŠ¨é›†ä¸­åœ¨åº•å±‚å·¥å…·ç±»ï¼Œå½±å“èŒƒå›´å¯æ§
2. åªæ˜¯æ˜¾å¼æŒ‡å®šç¼–ç ï¼Œæœªæ”¹å˜ä¸šåŠ¡é€»è¾‘
3. ç¬¦åˆ Java æœ€ä½³å®è·µå’Œå›½é™…æ ‡å‡†
4. ç¼–è¯‘æµ‹è¯•å…¨éƒ¨é€šè¿‡

**å»ºè®®**:
- åœ¨å®é™…ç¯å¢ƒä¸­æµ‹è¯•åŠ è½½åŒ…å«ä¸­æ–‡çš„é…ç½®æ–‡ä»¶
- éªŒè¯ç°æœ‰çš„è‹±æ–‡é…ç½®æ–‡ä»¶ä¾ç„¶æ­£å¸¸å·¥ä½œ
- å¦‚æœå‘ç°é—®é¢˜ï¼Œå¯ä»¥å¿«é€Ÿå›æ»šï¼ˆæ”¹åŠ¨å¾ˆå°ï¼‰

---

## æµ‹è¯•å»ºè®®

è™½ç„¶å½“å‰é¡¹ç›®æœªé…ç½®å•å…ƒæµ‹è¯•ï¼Œå»ºè®®æœªæ¥æ·»åŠ ä»¥ä¸‹æµ‹è¯•ï¼š

1. **UTF-8 è¯»å†™æµ‹è¯•**:
   ```java
   String chineseText = "æµ‹è¯•ä¸­æ–‡ç¼–ç ";
   FileUtils.writeFile(testFile, chineseText);
   String result = FileUtils.readFileToString(testFile);
   assert chineseText.equals(result);
   ```

2. **è·¨å¹³å°ä¸€è‡´æ€§æµ‹è¯•**:
   - åœ¨ Windows å’Œ Linux ä¸Šæ‰§è¡Œç›¸åŒçš„è¯»å†™æ“ä½œ
   - éªŒè¯ç»“æœå®Œå…¨ä¸€è‡´

3. **è¾¹ç•Œæµ‹è¯•**:
   - ç©ºæ–‡ä»¶
   - åªåŒ…å« ASCII å­—ç¬¦
   - åŒ…å«ç‰¹æ®Š Unicode å­—ç¬¦ï¼ˆemoji ç­‰ï¼‰

---

## ç»“è®º

âœ… **LGC-001 ä»»åŠ¡å®Œæˆ**

**ä¿®å¤å†…å®¹**:
- ç»Ÿä¸€æ‰€æœ‰æ–‡ä»¶ I/O æ“ä½œä¸º UTF-8 ç¼–ç 
- ä¿®å¤ 4 å¤„ç¼–ç é—®é¢˜ï¼ˆ3 å¤„è¯»å– + 1 å¤„å†™å…¥ï¼‰
- ç¼–è¯‘æµ‹è¯•é€šè¿‡

**é¢„æœŸæ•ˆæœ**:
- æ¶ˆé™¤å¹³å°ç¼–ç ä¾èµ–
- æ”¯æŒä¸­æ–‡é…ç½®å’ŒæŒ‡çº¹åº“
- æé«˜è·¨å¹³å°å…¼å®¹æ€§

**é£é™©**: ä½ - æ”¹åŠ¨å°ä¸”ç¬¦åˆæ ‡å‡†

**å»ºè®®**: åœ¨ç”Ÿäº§ç¯å¢ƒæµ‹è¯•ä¸­æ–‡å†…å®¹çš„è¯»å†™åŠŸèƒ½
